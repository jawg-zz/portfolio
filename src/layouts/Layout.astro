<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="George Moseti Gwaro - Senior Fullstack Software Engineer specializing in scalable web applications, cloud architecture, and distributed systems">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <title>George Moseti Gwaro | Senior Fullstack Software Engineer</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=DM+Sans:wght@400;500;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <div class="loader">
    <div class="loader-content">
      <div class="loader-logo">
        <span class="loader-text">GMG</span>
      </div>
      <div class="loader-bar">
        <div class="loader-progress"></div>
      </div>
    </div>
  </div>
  
  <canvas id="particle-canvas"></canvas>
  
  <div class="scroll-progress"></div>
  <div class="custom-cursor"></div>
  <div class="cursor-dot"></div>
  <div class="cursor-label"></div>
  
  <div class="bg-pattern"></div>
  <div class="noise-overlay"></div>
  <div class="gradient-orb orb-1" data-parallax="0.1"></div>
  <div class="gradient-orb orb-2" data-parallax="0.15"></div>
  <div class="gradient-orb orb-3" data-parallax="0.08"></div>

  <div class="controls-panel">
    <button class="control-btn theme-toggle" aria-label="Toggle theme" title="Toggle theme">
      <svg class="icon-sun" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
      </svg>
      <svg class="icon-moon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
      </svg>
    </button>
    <button class="control-btn sound-toggle" aria-label="Toggle sound" title="Toggle sound">
      <svg class="icon-sound-on" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"/>
      </svg>
      <svg class="icon-sound-off" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/>
      </svg>
    </button>
  </div>

  <div class="keyboard-hint">
    <span>Press</span>
    <kbd>C</kbd>
    <span>to contact</span>
  </div>

  <div class="easter-egg-hint" id="easterEggHint">
    <span>Psst! Try pressing</span>
    <kbd>V</kbd>
    <span>for a surprise</span>
  </div>

  <div class="stats-modal" id="statsModal">
    <div class="stats-backdrop"></div>
    <div class="stats-content">
      <button class="stats-close">&times;</button>
      <h2 class="stats-title">Portfolio Stats</h2>
      <div class="stats-grid">
        <div class="stat-item">
          <span class="stat-value" data-count="847">0</span>
          <span class="stat-name">Lines of Code</span>
        </div>
        <div class="stat-item">
          <span class="stat-value" data-count="12">0</span>
          <span class="stat-name">Projects</span>
        </div>
        <div class="stat-item">
          <span class="stat-value" data-count="98">0</span>
          <span class="stat-name">Commits</span>
        </div>
        <div class="stat-item">
          <span class="stat-value" data-count="156">0</span>
          <span class="stat-name">Coffee Cups</span>
        </div>
        <div class="stat-item">
          <span class="stat-value" data-count="24">0</span>
          <span class="stat-name">Badges</span>
        </div>
        <div class="stat-item">
          <span class="stat-value" data-count="365">0</span>
          <span class="stat-name">Days Coding</span>
        </div>
      </div>
      <div class="stats-secret">ðŸŽ‰ You found the easter egg!</div>
    </div>
  </div>

  <slot />

  <script>
    const canvas = document.getElementById('particle-canvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    let mouseX = 0;
    let mouseY = 0;
    let animationId;

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }

    class Particle {
      constructor() {
        this.reset();
      }

      reset() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.size = Math.random() * 2 + 0.5;
        this.speedX = (Math.random() - 0.5) * 0.5;
        this.speedY = (Math.random() - 0.5) * 0.5;
        this.opacity = Math.random() * 0.5 + 0.2;
        this.color = ['#6366f1', '#a855f7', '#ec4899'][Math.floor(Math.random() * 3)];
      }

      update() {
        this.x += this.speedX;
        this.y += this.speedY;

        if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
        if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;

        const dx = mouseX - this.x;
        const dy = mouseY - this.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        if (distance < 150) {
          this.x -= dx * 0.01;
          this.y -= dy * 0.01;
        }
      }

      draw() {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fillStyle = this.color;
        ctx.globalAlpha = this.opacity;
        ctx.fill();
        ctx.globalAlpha = 1;
      }
    }

    function initParticles() {
      particles = [];
      const numParticles = Math.min(80, (canvas.width * canvas.height) / 15000);
      for (let i = 0; i < numParticles; i++) {
        particles.push(new Particle());
      }
    }

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      particles.forEach(p => {
        p.update();
        p.draw();
      });

      particles.forEach((p1, i) => {
        particles.slice(i + 1).forEach(p2 => {
          const dx = p1.x - p2.x;
          const dy = p1.y - p2.y;
          const distance = Math.sqrt(dx * dx + dy * dy);
          if (distance < 120) {
            ctx.beginPath();
            ctx.moveTo(p1.x, p1.y);
            ctx.lineTo(p2.x, p2.y);
            ctx.strokeStyle = p1.color;
            ctx.globalAlpha = 0.1 * (1 - distance / 120);
            ctx.lineWidth = 0.5;
            ctx.stroke();
            ctx.globalAlpha = 1;
          }
        });
      });

      animationId = requestAnimationFrame(animate);
    }

    resizeCanvas();
    initParticles();
    animate();

    window.addEventListener('resize', () => {
      resizeCanvas();
      initParticles();
    });

    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
      
      const cursor = document.querySelector('.custom-cursor');
      const dot = document.querySelector('.cursor-dot');
      const label = document.querySelector('.cursor-label');
      cursor.style.left = e.clientX + 'px';
      cursor.style.top = e.clientY + 'px';
      dot.style.left = e.clientX + 'px';
      dot.style.top = e.clientY + 'px';
      if (label) {
        label.style.left = e.clientX + 'px';
        label.style.top = (e.clientY + 30) + 'px';
      }
    });

    document.addEventListener('mouseleave', () => {
      document.querySelector('.custom-cursor').style.opacity = '0';
      document.querySelector('.cursor-dot').style.opacity = '0';
    });

    document.addEventListener('mouseenter', () => {
      document.querySelector('.custom-cursor').style.opacity = '1';
      document.querySelector('.cursor-dot').style.opacity = '1';
    });

    const cursor = document.querySelector('.custom-cursor');
    const cursorLabel = document.querySelector('.cursor-label');
    
    // Industry icons for different sections
    const industryIcons = {
      'about': { icon: 'ðŸ‘¤', label: 'About' },
      'services': { icon: 'ðŸ› ï¸', label: 'Services' },
      'projects': { icon: 'ðŸ’¼', label: 'Projects' },
      'skills': { icon: 'âš¡', label: 'Skills' },
      'contact': { icon: 'ðŸ“¬', label: 'Contact' }
    };

    function updateCursorLabel(sectionId) {
      if (!cursorLabel) return;
      if (sectionId && industryIcons[sectionId]) {
        cursorLabel.innerHTML = `${industryIcons[sectionId].icon} ${industryIcons[sectionId].label}`;
        cursorLabel.classList.add('active');
      } else {
        cursorLabel.classList.remove('active');
      }
    }

    // Track which section is currently in view for cursor label
    const sections = document.querySelectorAll('section[id]');
    const observerOptions = {
      threshold: 0.5
    };

    const sectionObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          updateCursorLabel(entry.target.id);
        }
      });
    }, observerOptions);

    sections.forEach(section => sectionObserver.observe(section));

    // Add hover effects for interactive elements
    document.querySelectorAll('a, button, .project-card, .service-card, .skill-tag, .badge-card').forEach(el => {
      el.addEventListener('mouseenter', () => cursor.classList.add('hover'));
      el.addEventListener('mouseleave', () => cursor.classList.remove('hover'));
    });

    window.addEventListener('scroll', () => {
      const scrollProgress = document.querySelector('.scroll-progress');
      const scrolled = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
      scrollProgress.style.width = scrolled + '%';

      document.querySelectorAll('[data-parallax]').forEach(el => {
        const speed = parseFloat(el.dataset.parallax);
        el.style.transform = `translateY(${window.scrollY * speed}px)`;
      });
    });

    const themeToggle = document.querySelector('.theme-toggle');
    const themeToggleHeader = document.querySelector('.theme-toggle-header');
    const savedTheme = localStorage.getItem('theme') || 'dark';
    document.documentElement.setAttribute('data-theme', savedTheme);
    
    function updateThemeIcons(theme) {
      const controlPanelSun = document.querySelector('.controls-panel .icon-sun');
      const controlPanelMoon = document.querySelector('.controls-panel .icon-moon');
      const headerSun = document.querySelector('.theme-toggle-header .icon-sun');
      const headerMoon = document.querySelector('.theme-toggle-header .icon-moon');
      
      if (controlPanelSun && controlPanelMoon) {
        controlPanelSun.style.display = theme === 'dark' ? 'block' : 'none';
        controlPanelMoon.style.display = theme === 'light' ? 'block' : 'none';
      }
      if (headerSun && headerMoon) {
        headerSun.style.display = theme === 'dark' ? 'block' : 'none';
        headerMoon.style.display = theme === 'light' ? 'block' : 'none';
      }
    }
    
    updateThemeIcons(savedTheme);

    themeToggle.addEventListener('click', () => {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      updateThemeIcons(newTheme);
      playSound('click');
    });

    if (themeToggleHeader) {
      themeToggleHeader.addEventListener('click', () => {
        const currentTheme = document.documentElement.getAttribute('data-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        document.documentElement.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        updateThemeIcons(newTheme);
        playSound('click');
      });
    }

    let soundEnabled = localStorage.getItem('sound') !== 'false';
    const soundToggle = document.querySelector('.sound-toggle');
    document.querySelector('.icon-sound-on').style.display = soundEnabled ? 'block' : 'none';
    document.querySelector('.icon-sound-off').style.display = soundEnabled ? 'none' : 'block';

    soundToggle.addEventListener('click', () => {
      soundEnabled = !soundEnabled;
      localStorage.setItem('sound', soundEnabled);
      document.querySelector('.icon-sound-on').style.display = soundEnabled ? 'block' : 'none';
      document.querySelector('.icon-sound-off').style.display = soundEnabled ? 'none' : 'block';
    });

    function playSound(type) {
      if (!soundEnabled) return;
      
      const audioContext = new (window.AudioContext || window.webkitAudioContext)();
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      
      if (type === 'click') {
        oscillator.frequency.value = 800;
        gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.1);
      } else if (type === 'hover') {
        oscillator.frequency.value = 600;
        gainNode.gain.setValueAtTime(0.05, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.05);
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.05);
      }
    }

    document.querySelectorAll('a, button').forEach(el => {
      el.addEventListener('mouseenter', () => playSound('hover'));
    });

    document.addEventListener('keydown', (e) => {
      if (e.key.toLowerCase() === 'c') {
        document.getElementById('contact')?.scrollIntoView({ behavior: 'smooth' });
        playSound('click');
      }
      if (e.key.toLowerCase() === 'v') {
        openStatsModal();
        playSound('click');
      }
    });

    function openStatsModal() {
      const modal = document.getElementById('statsModal');
      modal.classList.add('active');
      animateCounters();
    }

    function closeStatsModal() {
      document.getElementById('statsModal').classList.remove('active');
    }

    document.querySelector('.stats-close').addEventListener('click', closeStatsModal);
    document.querySelector('.stats-backdrop').addEventListener('click', closeStatsModal);
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeStatsModal();
    });

    function animateCounters() {
      document.querySelectorAll('.stat-value').forEach(el => {
        const target = parseInt(el.dataset.count);
        const duration = 1500;
        const start = performance.now();
        
        function update(currentTime) {
          const elapsed = currentTime - start;
          const progress = Math.min(elapsed / duration, 1);
          const eased = 1 - Math.pow(1 - progress, 3);
          el.textContent = Math.floor(target * eased);
          
          if (progress < 1) requestAnimationFrame(update);
        }
        
        requestAnimationFrame(update);
      });
    }

    setTimeout(() => {
      document.getElementById('easterEggHint').classList.add('show');
    }, 5000);

    setTimeout(() => {
      document.getElementById('easterEggHint').classList.remove('show');
    }, 12000);

    window.addEventListener('load', () => {
      const loader = document.querySelector('.loader');
      setTimeout(() => {
        loader.classList.add('loaded');
        setTimeout(() => {
          loader.remove();
        }, 600);
      }, 1200);
    });

    const typingElements = document.querySelectorAll('[data-typing]');
    typingElements.forEach(el => {
      const text = el.getAttribute('data-typing');
      if (text) {
        el.textContent = '';
        let i = 0;
        const type = () => {
          if (i < text.length) {
            el.textContent += text.charAt(i);
            i++;
            setTimeout(type, 80);
          }
        };
        setTimeout(type, 500);
      }
    });
  </script>
</body>
</html>

<style is:global>
  .skip-link {
    position: absolute;
    top: -100px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--accent-gradient);
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    font-weight: 600;
    z-index: 10000;
    transition: top 0.3s ease;
  }

  .skip-link:focus {
    top: 1rem;
  }

  :root {
    --bg-primary: #0a0a0f;
    --bg-secondary: #12121a;
    --bg-tertiary: #1a1a24;
    --text-primary: #f0f0f5;
    --text-secondary: #a0a0b0;
    --text-muted: #606070;
    --accent-primary: #6366f1;
    --accent-secondary: #a855f7;
    --accent-tertiary: #ec4899;
    --accent-gradient: linear-gradient(135deg, #6366f1, #a855f7, #ec4899);
    --border-subtle: rgba(255, 255, 255, 0.06);
    --border-accent: rgba(99, 102, 241, 0.3);
    --font-display: 'Space Grotesk', sans-serif;
    --font-body: 'DM Sans', sans-serif;
    --font-mono: 'Fira Code', monospace;
    --cursor-size: 24px;
  }

  [data-theme="light"] {
    --bg-primary: #f8f9fc;
    --bg-secondary: #ffffff;
    --bg-tertiary: #f0f2f8;
    --text-primary: #1e;
    --a1a2text-secondary: #4a4a68;
    --text-muted: #8888a0;
    --accent-primary: #5b5bd6;
    --accent-secondary: #9333ea;
    --accent-tertiary: #db2777;
    --border-subtle: rgba(0, 0, 0, 0.06);
    --border-accent: rgba(91, 91, 214, 0.3);
  }

  *, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    font-family: var(--font-body);
    background: var(--bg-primary);
    color: var(--text-primary);
    line-height: 1.6;
    overflow-x: hidden;
    min-height: 100vh;
    cursor: none;
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  @media (max-width: 768px) {
    body {
      font-size: 16px;
    }
  }

  body * {
    cursor: none;
  }

  @media (pointer: coarse) {
    body, body * {
      cursor: auto;
    }
    .custom-cursor, .cursor-dot {
      display: none !important;
    }
  }

  .custom-cursor {
    position: fixed;
    width: var(--cursor-size);
    height: var(--cursor-size);
    border: 2px solid var(--accent-primary);
    border-radius: 50%;
    pointer-events: none;
    z-index: 10000;
    transform: translate(-50%, -50%);
    transition: width 0.2s, height 0.2s, background 0.2s;
    mix-blend-mode: difference;
  }

  .custom-cursor.hover {
    width: 50px;
    height: 50px;
    background: rgba(99, 102, 241, 0.2);
    border-color: var(--accent-secondary);
  }

  .cursor-dot {
    position: fixed;
    width: 8px;
    height: 8px;
    background: var(--accent-primary);
    border-radius: 50%;
    pointer-events: none;
    z-index: 10001;
    transform: translate(-50%, -50%);
  }

  .cursor-label {
    position: fixed;
    padding: 0.5rem 1rem;
    background: var(--bg-secondary);
    border: 1px solid var(--border-accent);
    border-radius: 8px;
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--text-primary);
    pointer-events: none;
    z-index: 10000;
    transform: translate(-50%, -50%);
    opacity: 0;
    transition: opacity 0.2s ease;
    white-space: nowrap;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  }

  .cursor-label.active {
    opacity: 1;
  }

  #particle-canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
  }

  .scroll-progress {
    position: fixed;
    top: 0;
    left: 0;
    height: 3px;
    background: var(--accent-gradient);
    z-index: 1000;
    transition: width 0.1s ease;
  }

  .controls-panel {
    position: fixed;
    top: 50%;
    right: 2rem;
    transform: translateY(-50%);
    z-index: 100;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .control-btn {
    width: 44px;
    height: 44px;
    border-radius: 12px;
    background: var(--bg-secondary);
    border: 1px solid var(--border-subtle);
    color: var(--text-secondary);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .control-btn:hover {
    background: var(--bg-tertiary);
    border-color: var(--border-accent);
    color: var(--text-primary);
    transform: scale(1.05);
  }

  .icon-moon {
    display: none;
  }

  .keyboard-hint {
    position: fixed;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    background: var(--bg-secondary);
    border: 1px solid var(--border-subtle);
    padding: 0.75rem 1.5rem;
    border-radius: 30px;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.85rem;
    color: var(--text-muted);
    z-index: 90;
    animation: slideUp 0.5s ease, fadeOut 0.5s ease 3s forwards;
    opacity: 0;
    animation-delay: 2s, 5s;
  }

  .keyboard-hint kbd {
    background: var(--bg-tertiary);
    border: 1px solid var(--border-accent);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-family: var(--font-mono);
    font-size: 0.75rem;
    color: var(--accent-primary);
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translate(-50%, 20px); }
    to { opacity: 1; transform: translate(-50%, 0); }
  }

  @keyframes fadeOut {
    to { opacity: 0; }
  }

  .easter-egg-hint {
    position: fixed;
    top: 50%;
    left: 2rem;
    transform: translateY(-50%);
    background: var(--bg-secondary);
    border: 1px solid var(--accent-primary);
    padding: 0.75rem 1.25rem;
    border-radius: 12px;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.8rem;
    color: var(--text-secondary);
    z-index: 90;
    opacity: 0;
    transition: opacity 0.5s ease;
  }

  .easter-egg-hint.show {
    opacity: 1;
  }

  .easter-egg-hint kbd {
    background: var(--accent-primary);
    color: white;
    padding: 0.2rem 0.5rem;
    border-radius: 4px;
    font-family: var(--font-mono);
    font-size: 0.7rem;
  }

  .stats-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
  }

  .stats-modal.active {
    opacity: 1;
    visibility: visible;
  }

  .stats-backdrop {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
  }

  .stats-content {
    position: relative;
    background: var(--bg-secondary);
    border: 1px solid var(--border-accent);
    border-radius: 24px;
    padding: 3rem;
    max-width: 600px;
    width: 90%;
    transform: scale(0.9);
    transition: transform 0.3s ease;
  }

  .stats-modal.active .stats-content {
    transform: scale(1);
  }

  .stats-close {
    position: absolute;
    top: 1rem;
    right: 1rem;
    width: 36px;
    height: 36px;
    border: none;
    background: var(--bg-tertiary);
    border-radius: 50%;
    color: var(--text-secondary);
    font-size: 1.5rem;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .stats-close:hover {
    background: var(--accent-primary);
    color: white;
    transform: rotate(90deg);
  }

  .stats-title {
    font-size: 1.75rem;
    margin-bottom: 2rem;
    text-align: center;
    background: var(--accent-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .stats-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
  }

  .stat-item {
    background: var(--bg-tertiary);
    border: 1px solid var(--border-subtle);
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
    transition: all 0.3s ease;
  }

  .stat-item:hover {
    transform: translateY(-4px);
    border-color: var(--border-accent);
  }

  .stat-value {
    display: block;
    font-family: var(--font-display);
    font-size: 2rem;
    font-weight: 700;
    color: var(--accent-primary);
    margin-bottom: 0.5rem;
  }

  .stat-name {
    font-size: 0.8rem;
    color: var(--text-muted);
  }

  .stats-secret {
    text-align: center;
    margin-top: 2rem;
    font-size: 0.9rem;
    color: var(--accent-secondary);
  }

  .bg-pattern {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
    background: 
      radial-gradient(ellipse 80% 50% at 50% -20%, rgba(99, 102, 241, 0.15), transparent),
      radial-gradient(ellipse 60% 40% at 100% 50%, rgba(168, 85, 247, 0.08), transparent),
      radial-gradient(ellipse 60% 40% at 0% 80%, rgba(236, 72, 153, 0.06), transparent);
  }

  .noise-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
    opacity: 0.03;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  }

  .gradient-orb {
    position: fixed;
    border-radius: 50%;
    filter: blur(80px);
    pointer-events: none;
    z-index: 0;
  }

  .orb-1 {
    width: 600px;
    height: 600px;
    background: rgba(99, 102, 241, 0.15);
    top: -200px;
    right: -200px;
  }

  .orb-2 {
    width: 500px;
    height: 500px;
    background: rgba(168, 85, 247, 0.1);
    bottom: 10%;
    left: -150px;
  }

  .orb-3 {
    width: 400px;
    height: 400px;
    background: rgba(236, 72, 153, 0.08);
    top: 50%;
    right: 20%;
  }

  .loader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--bg-primary);
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: opacity 0.6s ease, visibility 0.6s ease;
  }

  .loader.loaded {
    opacity: 0;
    visibility: hidden;
  }

  .loader-content {
    text-align: center;
  }

  .loader-logo {
    margin-bottom: 2rem;
  }

  .loader-text {
    font-family: var(--font-display);
    font-size: 3rem;
    font-weight: 700;
    background: var(--accent-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: pulse 1.5s ease infinite;
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  .loader-bar {
    width: 200px;
    height: 3px;
    background: var(--bg-tertiary);
    border-radius: 3px;
    overflow: hidden;
  }

  .loader-progress {
    height: 100%;
    background: var(--accent-gradient);
    width: 0;
    animation: loadProgress 1.2s ease forwards;
  }

  @keyframes loadProgress {
    0% { width: 0; }
    100% { width: 100%; }
  }

  ::selection {
    background: var(--accent-primary);
    color: white;
  }

  :focus-visible {
    outline: 2px solid var(--accent-primary);
    outline-offset: 2px;
  }

  a {
    color: inherit;
    text-decoration: none;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    font-weight: 600;
    line-height: 1.2;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
    position: relative;
    z-index: 2;
  }

  @media (max-width: 768px) {
    .container {
      padding: 1rem;
    }
    
    .controls-panel {
      right: 0.75rem;
      top: auto;
      bottom: 0.75rem;
      transform: none;
      flex-direction: row;
    }

    .control-btn {
      width: 48px;
      height: 48px;
    }
    
    .keyboard-hint, .easter-egg-hint {
      display: none;
    }

    :root {
      font-size: 16px;
    }

    .stats-content {
      padding: 2rem 1.5rem;
      width: 95%;
      max-height: 90vh;
      overflow-y: auto;
    }

    .stats-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
    }

    .stat-item {
      padding: 1rem;
    }

    .stat-value {
      font-size: 1.5rem;
    }

    .stats-title {
      font-size: 1.5rem;
    }

    .loader-text {
      font-size: 2rem;
    }

    .loader-bar {
      width: 150px;
    }

    .gradient-orb {
      width: 300px !important;
      height: 300px !important;
    }
  }

  @media (max-width: 480px) {
    .container {
      padding: 0.875rem;
    }

    .controls-panel {
      right: 0.5rem;
      bottom: 0.5rem;
      gap: 0.5rem;
    }

    .control-btn {
      width: 44px;
      height: 44px;
    }

    .stats-grid {
      grid-template-columns: 1fr 1fr;
      gap: 0.75rem;
    }

    .stat-item {
      padding: 0.75rem;
    }

    .stat-value {
      font-size: 1.25rem;
    }

    .stat-name {
      font-size: 0.7rem;
    }
  }
</style>
