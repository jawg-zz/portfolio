const s=document.getElementById("particle-canvas"),c=s.getContext("2d");let l=[],v=0,b=0;function S(){s.width=window.innerWidth,s.height=window.innerHeight}class x{constructor(){this.reset()}reset(){this.x=Math.random()*s.width,this.y=Math.random()*s.height,this.size=Math.random()*2+.5,this.speedX=(Math.random()-.5)*.5,this.speedY=(Math.random()-.5)*.5,this.opacity=Math.random()*.5+.2,this.color=["#6366f1","#a855f7","#ec4899"][Math.floor(Math.random()*3)]}update(){this.x+=this.speedX,this.y+=this.speedY,(this.x<0||this.x>s.width)&&(this.speedX*=-1),(this.y<0||this.y>s.height)&&(this.speedY*=-1);const t=v-this.x,o=b-this.y;Math.sqrt(t*t+o*o)<150&&(this.x-=t*.01,this.y-=o*.01)}draw(){c.beginPath(),c.arc(this.x,this.y,this.size,0,Math.PI*2),c.fillStyle=this.color,c.globalAlpha=this.opacity,c.fill(),c.globalAlpha=1}}function w(){l=[];const e=Math.min(80,s.width*s.height/15e3);for(let t=0;t<e;t++)l.push(new x)}function E(){c.clearRect(0,0,s.width,s.height),l.forEach(e=>{e.update(),e.draw()}),l.forEach((e,t)=>{l.slice(t+1).forEach(o=>{const n=e.x-o.x,r=e.y-o.y,d=Math.sqrt(n*n+r*r);d<120&&(c.beginPath(),c.moveTo(e.x,e.y),c.lineTo(o.x,o.y),c.strokeStyle=e.color,c.globalAlpha=.1*(1-d/120),c.lineWidth=.5,c.stroke(),c.globalAlpha=1)})}),requestAnimationFrame(E)}S();w();E();window.addEventListener("resize",()=>{S(),w()});document.addEventListener("mousemove",e=>{v=e.clientX,b=e.clientY;const t=document.querySelector(".custom-cursor"),o=document.querySelector(".cursor-dot"),n=document.querySelector(".cursor-label");t.style.left=e.clientX+"px",t.style.top=e.clientY+"px",o.style.left=e.clientX+"px",o.style.top=e.clientY+"px",n&&(n.style.left=e.clientX+"px",n.style.top=e.clientY+30+"px")});document.addEventListener("mouseleave",()=>{document.querySelector(".custom-cursor").style.opacity="0",document.querySelector(".cursor-dot").style.opacity="0"});document.addEventListener("mouseenter",()=>{document.querySelector(".custom-cursor").style.opacity="1",document.querySelector(".cursor-dot").style.opacity="1"});const p=document.querySelector(".custom-cursor"),u=document.querySelector(".cursor-label"),m={about:{icon:"ðŸ‘¤",label:"About"},services:{icon:"ðŸ› ï¸",label:"Services"},projects:{icon:"ðŸ’¼",label:"Projects"},skills:{icon:"âš¡",label:"Skills"},contact:{icon:"ðŸ“¬",label:"Contact"}};function L(e){u&&(e&&m[e]?(u.innerHTML=`${m[e].icon} ${m[e].label}`,u.classList.add("active")):u.classList.remove("active"))}const A=document.querySelectorAll("section[id]"),M={threshold:.5},I=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&L(t.target.id)})},M);A.forEach(e=>I.observe(e));document.querySelectorAll("a, button, .project-card, .service-card, .skill-tag, .badge-card").forEach(e=>{e.addEventListener("mouseenter",()=>p.classList.add("hover")),e.addEventListener("mouseleave",()=>p.classList.remove("hover"))});window.addEventListener("scroll",()=>{const e=document.querySelector(".scroll-progress"),t=window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100;e.style.width=t+"%",document.querySelectorAll("[data-parallax]").forEach(o=>{const n=parseFloat(o.dataset.parallax);o.style.transform=`translateY(${window.scrollY*n}px)`})});const C=document.querySelector(".theme-toggle"),f=document.querySelector(".theme-toggle-header"),k=localStorage.getItem("theme")||"dark";document.documentElement.setAttribute("data-theme",k);function h(e){const t=document.querySelector(".controls-panel .icon-sun"),o=document.querySelector(".controls-panel .icon-moon"),n=document.querySelector(".theme-toggle-header .icon-sun"),r=document.querySelector(".theme-toggle-header .icon-moon");t&&o&&(t.style.display=e==="dark"?"block":"none",o.style.display=e==="light"?"block":"none"),n&&r&&(n.style.display=e==="dark"?"block":"none",r.style.display=e==="light"?"block":"none")}h(k);C.addEventListener("click",()=>{const t=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t),h(t),i("click")});f&&f.addEventListener("click",()=>{const t=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t),h(t),i("click")});let a=localStorage.getItem("sound")!=="false";const Y=document.querySelector(".sound-toggle");document.querySelector(".icon-sound-on").style.display=a?"block":"none";document.querySelector(".icon-sound-off").style.display=a?"none":"block";Y.addEventListener("click",()=>{a=!a,localStorage.setItem("sound",a),document.querySelector(".icon-sound-on").style.display=a?"block":"none",document.querySelector(".icon-sound-off").style.display=a?"none":"block"});function i(e){if(!a)return;const t=new(window.AudioContext||window.webkitAudioContext),o=t.createOscillator(),n=t.createGain();o.connect(n),n.connect(t.destination),e==="click"?(o.frequency.value=800,n.gain.setValueAtTime(.1,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.1),o.start(t.currentTime),o.stop(t.currentTime+.1)):e==="hover"&&(o.frequency.value=600,n.gain.setValueAtTime(.05,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.05),o.start(t.currentTime),o.stop(t.currentTime+.05))}document.querySelectorAll("a, button").forEach(e=>{e.addEventListener("mouseenter",()=>i("hover"))});document.addEventListener("keydown",e=>{e.key.toLowerCase()==="c"&&(document.getElementById("contact")?.scrollIntoView({behavior:"smooth"}),i("click")),e.key.toLowerCase()==="v"&&(P(),i("click"))});function P(){document.getElementById("statsModal").classList.add("active"),X()}function y(){document.getElementById("statsModal").classList.remove("active")}document.querySelector(".stats-close").addEventListener("click",y);document.querySelector(".stats-backdrop").addEventListener("click",y);document.addEventListener("keydown",e=>{e.key==="Escape"&&y()});function X(){document.querySelectorAll(".stat-value").forEach(e=>{const t=parseInt(e.dataset.count),o=1500,n=performance.now();function r(d){const q=d-n,g=Math.min(q/o,1),T=1-Math.pow(1-g,3);e.textContent=Math.floor(t*T),g<1&&requestAnimationFrame(r)}requestAnimationFrame(r)})}setTimeout(()=>{document.getElementById("easterEggHint").classList.add("show")},5e3);setTimeout(()=>{document.getElementById("easterEggHint").classList.remove("show")},12e3);window.addEventListener("load",()=>{const e=document.querySelector(".loader");setTimeout(()=>{e.classList.add("loaded"),setTimeout(()=>{e.remove()},600)},1200)});const H=document.querySelectorAll("[data-typing]");H.forEach(e=>{const t=e.getAttribute("data-typing");if(t){e.textContent="";let o=0;const n=()=>{o<t.length&&(e.textContent+=t.charAt(o),o++,setTimeout(n,80))};setTimeout(n,500)}});
